---
layout: post
title: IOS 碎片代码
categories: [ios]
tags: [ios]
description: ios 碎片
---

1、为控件添加边框

{% highlight ruby %}

UISlider slider= [[UISlider alloc] initWithFrame:CGRectMake(0, 0, 300, 24)];

CALayer *rightBorder = [CALayer layer];

rightBorder.borderColor = [UIColor darkGrayColor].CGColor;

rightBorder.borderWidth = 1;

rightBorder.frame = CGRectMake(-1, -1, CGRectGetWidth(slider.frame), 
                                   CGRectGetHeight(slider.frame)+2);

[slider.layer addSublayer:rightBorder];

[self.view addSubview:slider];

{% endhighlight %}

2、混合使用ARC

build phases中修改compiler Flags
{% highlight ruby %}
不支持ARC

      -fno-objc-arc

支持ARC

       -fobjc-arc

{% endhighlight %}

3、UIView tag

{% highlight ruby %}

enum MyViewTags {
    kTitleLabelTag = 1,
    kSendButtonTag,
    kSomeOtherViewTag
};

// ...

if (sender.tag == kSendButtonTag) {
    // ...
}

{% endhighlight %}

4、读取plist文件

{% highlight ruby %}

 NSArray *pathsArr = NSSearchPathForDirectoriesInDomains(NSLibraryDirectory, NSUserDomainMask, YES);
            NSString *docDir = [pathsArr objectAtIndex:0];
            NSString *newDocDir = [docDir stringByAppendingString:@"/Preferences"];
            NSLog(@"%@", newDocDir);
            NSString *filePath = [newDocDir stringByAppendingPathComponent:@"xxx.plist"];
            NSMutableDictionary* dic = [[NSMutableDictionary alloc] initWithContentsOfFile:filePath];

            NSEnumerator *enumerator = [dic keyEnumerator];
            for(NSString *key in enumerator) {
                NSLog(@"%@", key);
            }

{% endhighlight %}


5、strong 和 weak 

weak 使用场景

1、delegate properties  

2、subviews 和 view controller's main view

strong 

强引用就像是持有一个字符串的气球

只要还有一个人通过字符串连接到气球，气球就不会飞走。string 就相当于 retain count ，当没有人持有string ，dealloc

weak 相当于看气球。你可以看它，访问它的属性和方法。但是你没有通过string 连接到气球。如果所有人放开对string的持有，
气球会飞走，不能再访问它的属性和方法








